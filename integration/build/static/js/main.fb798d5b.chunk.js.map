{"version":3,"sources":["styles/conf.module.scss","styles/canvas.module.scss","util/canvas-callback.js","component/configuration/color.js","component/configuration/environment.js","component/configuration/intExt.js","component/configuration/view.js","component/configuration/conf.js","component/component3d/playcanvas-builder.js","component/component3d/canvas.js","App.js","index.js"],"names":["module","exports","setFire","value","newValue","app","fire","Color","props","useState","newColor","setNewColor","appRef","className","styles","subMenu","colorRed","onClick","colorBlack","colorGreen","colorBlue","Environment","newEnv","setNewEnv","IntExt","newCamera","setNewCamera","View","newView","setNewView","Conf","colorbtn","setColorBtn","environmentbtn","setEnvironmentBtn","intExtbtn","setIntExtBtn","viewbtn","setViewBtn","setAllFalse","conf","main","detail","menuColor","menuEnvironment","menuAccesory","menuView","pc","window","displayError","html","CanvasProject","loadModule","config","host","setApp","canvasRef","useRef","useEffect","start","devices","canvas","elementInput","ElementInput","useMouse","INPUT_SETTINGS","useTouch","keyboard","useKeyboard","Keyboard","mouse","Mouse","gamepads","useGamepads","GamePads","touch","platform","TouchDevice","createInputDevices","current","Application","graphicsDeviceOptions","CONTEXT_OPTIONS","assetPrefix","ASSET_PREFIX","scriptPrefix","SCRIPT_PREFIX","scriptsOrder","SCRIPTS","e","UnsupportedBrowserError","ContextCreationError","PRELOAD_MODULES","configure","err","console","error","setTimeout","resizeCanvas","width","height","style","fillMode","_fillMode","FILLMODE_NONE","FILLMODE_KEEP_ASPECT","clientHeight","innerHeight","clientWidth","innerWidth","marginTop","reflow","preload","loadScene","can","id","ref","App","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.fb798d5b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"conf\":\"conf_conf__1Pwlb\",\"main\":\"conf_main__1k6z2\",\"subMenu\":\"conf_subMenu__3-r1L\",\"colorRed\":\"conf_colorRed__8X6LK\",\"colorBlack\":\"conf_colorBlack__3tdXh\",\"colorBlue\":\"conf_colorBlue__3jwPX\",\"colorGreen\":\"conf_colorGreen__2Lzoa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"can\":\"canvas_can__gqgko\"};","export const setFire = (value, newValue, app) => {\n    app.fire(value + \":set\", newValue)\n};","import React, {useState} from 'react'\nimport {setFire} from \"../../util/canvas-callback\"\nimport styles from \"../../styles/conf.module.scss\"\n\nconst Color = (props) => {\n    const [newColor, setNewColor] = useState(\"\")\n    let app = props.appRef\n\n    setFire(\"color\", newColor, app)\n\n    return (\n        <div className={styles.subMenu}>\n            <p className={styles.colorRed} onClick={() => setNewColor(\"red\")}> Red </p>\n            <p className={styles.colorBlack} onClick={() => setNewColor(\"black\")}> Black </p>\n            <p className={styles.colorGreen} onClick={() => setNewColor(\"green\")}> green </p>\n            <p className={styles.colorBlue} onClick={() => setNewColor(\"blue\")}> blue </p>\n        </div>\n    )\n}\n\nexport default Color","import React, {useState} from 'react'\nimport {setFire} from \"../../util/canvas-callback\"\n\n\nimport styles from \"../../styles/conf.module.scss\"\n\n\nconst Environment = (props) => {\n    const [newEnv, setNewEnv] = useState(\"\")\n    let app = props.appRef\n    setFire(\"env\", newEnv, app)\n    return (\n        <div className={styles.subMenu}>\n            <p className={styles.colorRed} onClick={() => setNewEnv(\"heli\")}> Heli </p>\n            <p className={styles.colorBlack} onClick={() => setNewEnv(\"bridge\")}> Bridge </p>\n        </div>\n    )\n}\n\nexport default Environment","import React, {useState} from 'react'\nimport {setFire} from \"../../util/canvas-callback\"\nimport styles from \"../../styles/conf.module.scss\"\n\nconst IntExt = (props) => {\n    const [newCamera, setNewCamera] = useState(\"\")\n    let app = props.appRef\n\n    setFire(\"intext\", newCamera, app)\n\n    return (\n        <div className={styles.subMenu}>intext\n            <p className={styles.colorRed} onClick={() => setNewCamera(\"int\")}> Interior </p>\n            <p className={styles.colorBlack} onClick={() => setNewCamera(\"ext\")}> Exterior </p>\n        </div>\n    )\n}\n\nexport default IntExt","import React, {useState} from 'react'\nimport {setFire} from \"../../util/canvas-callback\"\n\n\nimport styles from \"../../styles/conf.module.scss\"\n\nconst View = (props) => {\n    const [newView, setNewView] = useState(1)\n    let app = props.appRef\n\n    setFire(\"camera\", newView, app)\n\n    return (\n        <div className={styles.subMenu}>\n            <p className={styles.colorRed} onClick={() => setNewView(1)}> view 1 </p>\n            <p className={styles.colorBlack} onClick={() => setNewView(2)}> View 2 </p>\n            <p className={styles.colorBlack} onClick={() => setNewView(3)}> View 3 </p>\n\n        </div>\n    )\n}\n\nexport default View","import React, {useState} from 'react'\nimport Color from \"./color\"\nimport Environment from './environment'\nimport IntExt from './intExt'\nimport View from './view'\n\nimport styles from \"../../styles/conf.module.scss\"\nconst Conf = (props) => {\n\n    const [colorbtn, setColorBtn] = useState(false)\n    const [environmentbtn, setEnvironmentBtn] = useState(false)\n    const [intExtbtn, setIntExtBtn] = useState(false)\n    const [viewbtn, setViewBtn] = useState(false)\n\n    const setAllFalse = () => {\n        setEnvironmentBtn(false);\n        setIntExtBtn(false);\n        setViewBtn(false);\n        setColorBtn(false)\n    }\n\n    let app = props.appRef\n\n    return (\n        <div className={styles.conf}>\n            \n            <div className={styles.main}>\n                <p onClick={() => {\n                    setAllFalse();\n                    setColorBtn(!colorbtn)\n                }}> Color </p><br/>\n                <p onClick={() => {\n                    setAllFalse();\n                    setEnvironmentBtn(!environmentbtn)\n                }}> Environment </p>\n                <p onClick={() => {\n                    setAllFalse();\n                    setIntExtBtn(!intExtbtn)\n                }}> Int </p>\n                <p onClick={() => {\n                    setAllFalse();\n                    setViewBtn(!viewbtn)\n                }}> View </p>\n            </div>\n            <div className={styles.detail}>\n                {colorbtn && <div className={styles.menuColor}>< Color appRef={app}/></div>}\n                {environmentbtn && <div className={styles.menuEnvironment}>< Environment appRef={app}/></div>}\n                {intExtbtn && <div className={styles.menuAccesory}>< IntExt appRef={app}/></div>}\n                {viewbtn && <div className={styles.menuView}>< View appRef={app}/></div>}\n            </div>\n\n        </div>\n    )\n}\nexport default Conf","import React from \"react\";\n\nconst pc = window.pc\n\nexport function createInputDevices(canvas) {\n    let config = window[\"lightandshadow_setting\"]\n    return {\n        elementInput: new pc.ElementInput(canvas, {\n            useMouse: config.INPUT_SETTINGS.useMouse,\n            useTouch: config.INPUT_SETTINGS.useTouch\n        }),\n        keyboard: config.INPUT_SETTINGS.useKeyboard = new pc.Keyboard(window),\n        mouse: config.INPUT_SETTINGS.useMouse = new pc.Mouse(canvas),\n        gamepads: config.INPUT_SETTINGS.useGamepads ? new pc.GamePads() : null,\n        touch: config.INPUT_SETTINGS.useTouch && pc.platform.touch ? new pc.TouchDevice(canvas) : null\n    };\n};\n\nexport function displayError(html) {\n    return (\n        <table>\n            <tr>\n                <td>\n                    <div>\n                        <div>{html}</div>\n                    </div>\n                </td>\n            </tr>\n        </table>)\n};\n\nexport function reflow (app, canvas) {\n    app.resizeCanvas(canvas.width, canvas.height);\n    canvas.style.width = '';\n    canvas.style.height = '';\n\n    const fillMode = app._fillMode;\n\n    if (fillMode === pc.FILLMODE_NONE || fillMode === pc.FILLMODE_KEEP_ASPECT) {\n        if ((fillMode === pc.FILLMODE_NONE && canvas.clientHeight < window.innerHeight) || (canvas.clientWidth / canvas.clientHeight >= window.innerWidth / window.innerHeight)) {\n            canvas.style.marginTop = -50 + 'px';\n        } else {\n            canvas.style.marginTop = '';\n        }\n    }\n};\n\n\n","import React, {useEffect, useRef, useState} from 'react'\nimport Conf from \"../configuration/conf\"\nimport {createInputDevices, displayError, reflow} from \"./playcanvas-builder\"\nimport styles from \"../../styles/canvas.module.scss\";\n\nconst CanvasProject = () => {\n    const pc = window.pc\n    const loadModule = window[\"lightandshadow_modules\"]\n    const config = window[\"lightandshadow_setting\"]\n    const host = \"http://localhost:8000/lightandshadow/tictac/\"\n\n    let [app, setApp] = useState()\n    const canvasRef = useRef(null)\n\n    useEffect(() => {\n        start()\n    }, []);\n\n    const start = () => {\n        let devices, canvas\n        canvas = canvasRef.current\n        devices = createInputDevices(canvas);\n        displayError();\n        try {\n            app = new pc.Application(canvas,\n                {\n                    elementInput: devices.elementInput,\n                    keyboard: devices.keyboard,\n                    mouse: devices.mouse,\n                    gamepads: devices.gamepads,\n                    touch: devices.touch,\n                    graphicsDeviceOptions: config.CONTEXT_OPTIONS,\n                    assetPrefix: config.ASSET_PREFIX || \"\",\n                    scriptPrefix: config.SCRIPT_PREFIX || \"\",\n                    scriptsOrder: config.SCRIPTS || []\n                });\n        } catch (e) {\n            if (e instanceof pc.UnsupportedBrowserError) {\n                displayError('This page requires a browser that supports WebGL.<br/>' +\n                    '<a href=\"http://get.webgl.org\">Click here to find out more.</a>');\n            } else if (e instanceof pc.ContextCreationError) {\n                displayError(\"It doesn't appear your computer can support WebGL.<br/>\" +\n                    '<a href=\"http://get.webgl.org/troubleshooting/\">Click here for more information.</a>');\n            } else {\n                displayError('Could not initialize application. Error: ' + e);\n            }\n            return;\n        }\n\n        let configure = function () {\n            app.configure(host + \"config.json\", function (err) {\n                if (err) {\n                    console.error(err)\n                }\n                setTimeout(function () {\n                    reflow(app, canvas)\n                    app.preload(function (err) {\n                        if (err) {\n                            console.error(err)\n                        }\n                        app.loadScene(host + \"953348.json\", function (err) {\n                            if (err) {\n                                console.error(err)\n                            }\n                            app.start();\n                        });\n                    })\n                })\n            });\n        }\n        loadModule(config.PRELOAD_MODULES, config.ASSET_PREFIX, configure);\n        setApp(app)\n    };\n\n\n    return (\n        <div className={styles.can}>\n            <Conf appRef={app}/>\n            <canvas id=\"ls-modele-1\" ref={canvasRef}/>\n        </div>\n    )\n}\nexport default CanvasProject\n\n","import React from 'react'\nimport CanvasProject from './component/component3d/canvas';\nimport styles from \"./styles/global.scss\"\n\nconst App = () => {\n\n  return (\n    <div className={styles.app}>\n      <CanvasProject/>\n    </div>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./styles/global.scss\"\nimport App from './App';\n\nconst rootElement = document.getElementById('root')\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    rootElement\n);\n\n"],"sourceRoot":""}